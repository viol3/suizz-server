{
  "version": 3,
  "sources": ["../../src/stores.ts"],
  "sourcesContent": ["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\n/**\n * An sync key-value store.\n */\nexport interface SyncStore {\n\tget(key: string): string | null;\n\tset(key: string, value: string): void;\n\tdelete(key: string): void;\n}\n\nfunction createWebStorage(storage: Storage): SyncStore {\n\treturn {\n\t\tget(key: string) {\n\t\t\treturn storage.getItem(key);\n\t\t},\n\t\tset(key: string, value: string) {\n\t\t\tstorage.setItem(key, value);\n\t\t},\n\t\tdelete(key: string) {\n\t\t\tstorage.removeItem(key);\n\t\t},\n\t};\n}\n\n/**\n * Create a storage interface backed by memory.\n * This is generally useful for server-side rendering, and test environments.\n */\nexport function createInMemoryStorage(): SyncStore {\n\tconst store = new Map<string, string>();\n\treturn {\n\t\tget(key) {\n\t\t\treturn store.get(key) ?? null;\n\t\t},\n\t\tset(key, value) {\n\t\t\tstore.set(key, value);\n\t\t},\n\t\tdelete(key) {\n\t\t\tstore.delete(key);\n\t\t},\n\t};\n}\n\n/**\n * Create a store backed by `localStorage`.\n */\nexport function createLocalStorage(): SyncStore {\n\tif (typeof window === 'undefined') {\n\t\tconsole.warn('`window.localStorage` is not available, falling back to in-memory storage');\n\t\treturn createInMemoryStorage();\n\t}\n\n\treturn createWebStorage(window.localStorage);\n}\n\n/**\n * Create a store backed by `sessionStorage`.\n */\nexport function createSessionStorage(): SyncStore {\n\tif (typeof window === 'undefined') {\n\t\tconsole.warn('`window.sessionStorage` is not available, falling back to in-memory storage');\n\t\treturn createInMemoryStorage();\n\t}\n\n\treturn createWebStorage(window.sessionStorage);\n}\n"],
  "mappings": "AAYA,SAAS,iBAAiB,SAA6B;AACtD,SAAO;AAAA,IACN,IAAI,KAAa;AAChB,aAAO,QAAQ,QAAQ,GAAG;AAAA,IAC3B;AAAA,IACA,IAAI,KAAa,OAAe;AAC/B,cAAQ,QAAQ,KAAK,KAAK;AAAA,IAC3B;AAAA,IACA,OAAO,KAAa;AACnB,cAAQ,WAAW,GAAG;AAAA,IACvB;AAAA,EACD;AACD;AAMO,SAAS,wBAAmC;AAClD,QAAM,QAAQ,oBAAI,IAAoB;AACtC,SAAO;AAAA,IACN,IAAI,KAAK;AACR,aAAO,MAAM,IAAI,GAAG,KAAK;AAAA,IAC1B;AAAA,IACA,IAAI,KAAK,OAAO;AACf,YAAM,IAAI,KAAK,KAAK;AAAA,IACrB;AAAA,IACA,OAAO,KAAK;AACX,YAAM,OAAO,GAAG;AAAA,IACjB;AAAA,EACD;AACD;AAKO,SAAS,qBAAgC;AAC/C,MAAI,OAAO,WAAW,aAAa;AAClC,YAAQ,KAAK,2EAA2E;AACxF,WAAO,sBAAsB;AAAA,EAC9B;AAEA,SAAO,iBAAiB,OAAO,YAAY;AAC5C;AAKO,SAAS,uBAAkC;AACjD,MAAI,OAAO,WAAW,aAAa;AAClC,YAAQ,KAAK,6EAA6E;AAC1F,WAAO,sBAAsB;AAAA,EAC9B;AAEA,SAAO,iBAAiB,OAAO,cAAc;AAC9C;",
  "names": []
}
